{% extends 'website/frontend/frontend_base.html' %}
{% load staticfiles %}
{% block title %}{{ article.title }}{% endblock %}


{% block external_header %}
    <script type="text/javascript" src="{% static 'syntaxhighlighter/shCore.js' %}"></script>
    <script type="text/javascript" src="{% static 'syntaxhighlighter/shBrushBash.js' %}"></script>
    <script type="text/javascript" src="{% static 'syntaxhighlighter/shBrushCpp.js' %}"></script>
    <script type="text/javascript" src="{% static 'syntaxhighlighter/shBrushCss.js' %}"></script>
    <script type="text/javascript" src="{% static 'syntaxhighlighter/shBrushJava.js' %}"></script>
    <script type="text/javascript" src="{% static 'syntaxhighlighter/shBrushJScript.js' %}"></script>
    <script type="text/javascript" src="{% static 'syntaxhighlighter/shBrushPython.js' %}"></script>
    <script type="text/javascript" src="{% static 'syntaxhighlighter/shBrushPlain.js' %}"></script>
    <script type="text/javascript" src="{% static 'syntaxhighlighter/shBrushSql.js' %}"></script>
    <script type="text/javascript" src="{% static 'syntaxhighlighter/shBrushXml.js' %}"></script>
    <link rel="stylesheet" href="{% static 'syntaxhighlighter/shCoreMidnight.css' %}">
    <link rel="stylesheet" href="{% static 'syntaxhighlighter/shThemeMidnight.css' %}">
{% endblock %}


{% block left %}
    <div class="col-md-12 article">
        <div class="col-md-12">
            <h2><a href="#">{{ article.title }}</a></h2>
            <p><small><span class="glyphicon glyphicon-calendar" aria-hidden="true"></span>{{ article.publish_time|date:"Y-m-d" }}&nbsp;{{ article.publish_time|time:"H:i" }}</small></p>

            <blockquote>
                <p class="text-danger">原创文章，转载请注明出处和作者。</p>
            </blockquote>
        </div>
        <div class="col-md-12">
            {{ article.content|safe }}
            <hr>
        </div>

        <div class="col-md-6">
            <span class="label label-default"><span class="text-left"><span class="glyphicon glyphicon-tags" aria-hidden="true"></span>&emsp;{{ article.category }}</span></span>
        </div>
        <div class="col-md-6 text-right">
            <a role="button" class="btn btn-info  btn-xs" href="{% url 'homepage' %}"><span class="glyphicon glyphicon-console" aria-hidden="true"></span>&emsp;返回首页</a>
        </div>
    </div>
    <div class="col-md-12 article">
    <!-- 多说评论框 start -->
        <div class="ds-share flat" data-thread-key="{{ article.id }}" data-title="{{ article.title }}" data-images="" data-content="{{ article.title }}" data-url="http://yumendy.com{% url 'blog-detail' article.id %}">
            <div class="ds-share-inline">
              <ul  class="ds-share-icons-16">

                <li data-toggle="ds-share-icons-more"><a class="ds-more" href="javascript:void(0);">分享到：</a></li>
                <li><a class="ds-weibo" href="javascript:void(0);" data-service="weibo">微博</a></li>
                <li><a class="ds-qzone" href="javascript:void(0);" data-service="qzone">QQ空间</a></li>
                <li><a class="ds-qqt" href="javascript:void(0);" data-service="qqt">腾讯微博</a></li>
                <li><a class="ds-wechat" href="javascript:void(0);" data-service="wechat">微信</a></li>

              </ul>
              <div class="ds-share-icons-more">
              </div>
            </div>
         </div>
        <div class="ds-thread" data-thread-key="{{ article.id }}" data-title="{{ article.title }}" data-url="http://yumendy.com{% url 'blog-detail' article.id %}"></div>
    <!-- 多说评论框 end -->
    </div>
{% endblock %}


{% block front_js %}
    <script type="text/javascript">
         SyntaxHighlighter.all()
    </script>
    <script>
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https'){
       bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      }
      else{
      bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
    </script>
{% endblock %}